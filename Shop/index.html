<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Магазин модерации</title>

    <link rel="stylesheet" href="style.css" />
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
  </head>
  <body>
    <main class="frame">
      <section class="content">
        <div class="background-box"></div>
        <h1 class="title">МАГАЗИН МОДЕРАЦИИ</h1>

        <div class="user-balance">
          <span id="user-balls">Загрузка...</span>
        </div>

        <section class="actions-grid">
          <button type="button" class="action-item" onclick="buyItem('remove_warn', 130)">
            <span class="action-title">СНЯТЬ ВЫГОВОР</span>
            <img class="action-icon" src="img/warn.svg" alt="warn" />
            <span class="action-cost">130 баллов</span>
          </button>

          <button type="button" class="action-item" onclick="buyItem('remove_pred', 65)">
            <span class="action-title">СНЯТЬ ПРЕДУПРЕЖДЕНИЕ</span>
            <img class="action-icon" src="img/pred.svg" alt="pred" />
            <span class="action-cost">65 баллов</span>
          </button>

          <button type="button" class="action-item" onclick="buyItem('extend_family', 300)">
            <span class="action-title">ПРОДЛЕНИЕ СЕМЕЙНОЙ РОЛИ</span>
            <img class="action-icon" src="img/family.svg" alt="family" />
            <span class="action-cost">300 баллов</span>
          </button>

          <button type="button" class="action-item" onclick="showRoleForm()">
            <span class="action-title">СОЗДАНИЕ ЛИЧНОЙ РОЛИ</span>
            <img class="action-icon" src="img/role.svg" alt="role" />
            <span class="action-cost">200 баллов</span>
          </button>
        </section>

        <section class="actions">
          <button type="button" class="action-item wide" onclick="buyItem('reduce_days', 30)">
            <span class="action-title">СНИЖЕНИЕ СРОКА ПОВЫШЕНИЯ</span>
            <img class="action-icon" src="img/up.svg" alt="up" />
            <span class="action-cost">30 баллов</span>
          </button>

          <button type="button" class="action-item wide" onclick="showNicknameForm()">
            <span class="action-title">ИЗМЕНИТЬ НИК-НЕЙМ</span>
            <img class="action-icon" src="img/nick.svg" alt="nick" />
            <span class="action-cost">50 баллов</span>
          </button>
        </section>

        <div id="roleForm" class="form-overlay hidden">
          <div class="form-content">
            <h3>Создание личной роли</h3>
            <input type="text" id="roleName" placeholder="Название роли" maxlength="30" />
            <input type="text" id="roleColor" placeholder="Цвет роли (#RRGGBB)" maxlength="7" />
            <div class="form-buttons">
              <button type="button" onclick="buyRole()">Создать роль</button>
              <button type="button" onclick="hideRoleForm()">Отмена</button>
            </div>
          </div>
        </div>

        <div id="nicknameForm" class="form-overlay hidden">
          <div class="form-content">
            <h3>Изменение никнейма</h3>
            <input type="text" id="newNickname" placeholder="Новый никнейм" maxlength="20" />
            <div class="form-buttons">
              <button type="button" onclick="buyNickname()">Изменить никнейм</button>
              <button type="button" onclick="hideNicknameForm()">Отмена</button>
            </div>
          </div>
        </div>

        <section class="exchange-section">
          <h2 class="exchange-title">ОБМЕНЯТЬ БАЛЛЫ НА ОПЫТ</h2>
          <p class="exchange-rate">10 баллов = 2 500 опыта (минимум 10)</p>

          <form class="exchange-form" onsubmit="return false;">
            <input type="number" id="exchangeAmount" class="exchange-input" placeholder="Введите количество баллов" min="10" />
            <div class="exchange-buttons">
              <button type="button" class="exchange-button" onclick="calculateExchange()">РАССЧИТАТЬ</button>
              <button type="button" class="exchange-button" onclick="buyExchange()">ОБМЕНЯТЬ</button>
            </div>
          </form>

          <div id="exchangeResult" class="exchange-result hidden"></div>
        </section>

        <div id="notification" class="notification hidden"></div>
        <div id="loading" class="loading-overlay">
          <div class="loading-spinner"></div>
        </div>
      </section>
    </main>

    <script src="script.js"></script>
  </body>
</html>
